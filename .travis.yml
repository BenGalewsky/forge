language: python
python:
- '2.7'
- '3.3'
- '3.4'
- '3.5'
- '3.6'
install:
- pip install -r requirements.txt
- cd forge
- pip install .
- cd ..
env:
- TEST_ENV=travis
script:
- travis_wait 30 py.test
before_install:
- openssl aes-256-cbc -K $encrypted_4b438100ad6f_key -iv $encrypted_4b438100ad6f_iv
  -in travis.tar.enc -out travis.tar -d
- tar xvf travis.tar
- mkdir -p ~/mdf/credentials/
- mv MDF_Forge_tokens.json ~/mdf/credentials/MDF_Forge_tokens.json
notifications:
  email:
    recipients:
    - jgaff@uchicago.edu
    on_success: never
    on_failure: always
  slack:
    secure: h9Pn5T7PPIcoKAu61I7/bigL9A3UdvmF+D92mbEGCr1w+Vk9/TaTwayxNleVLd2ukG9cuMKFJ9lYzDamuHkadKVue7SbyXLp7Gg+n88Vdn5OJ0tSgVG/V4E9qj0S8GSGX1XnBdiMpV8tTqf1CAiNvAu7xA4kstd1WooFIostkk6v3lGIGAr5y4F+Ziz4JozRgJWByMSkx46GEFUFazLpVSz0iIZL1J/Jyzh2D0uo52f8V6kWqXJsyJZXKQYLNZD6sQNk48DcAOZoJPkmJ1MTFuoa2Qi0Re9Q0L8A+n2CZ0B+/4IxWIJFkYIIJ3/Amn7/2pks8+dNcmX0zFPgdxiP/L3LW4AMLe3Y1cTWCDKxjHzdpiMs83ZfrApPZqdAu66F/mLY+kNY9xDtlQ5z9UA/AGkVAO9gARWUHwZNEF4NQ1pN3MSwTwhlDnw/SJXgkWa+5wR7RNDAGbLMaWztphxslOCj/5HeDNA/mMBcb2yoTMsZzMdZRloKkaCx+EjVc7bZlBfo1GVB2AgkASc5zAUn+6w8oTARm2oHDMjJc3c3HvO3rbHteC3y89KcnNWIk7q1KuBz/53JyvQFvc5Iil2yFFKcopS5c7B1tP/gTa1CgrOhLidPr1qISWS31X6UA+7GNmVYJl0kUfWNCDLHBkw4PfhUw894BLsTNB9pIICaEBs=
deploy:
  provider: pypi
  user: jgaff
  on:
    tags: true
  password:
    secure: bSsB+wDgzNQLXGt2gyL3wheGpvRIsPFHxkcYH5vt/G9cELnS25C+AIaqK/tLNj4lsbX0ROjpPgwSX5wQkukFl8rYXc6AswBuz9OT6YifK4Fhp2eqNqR71lAoNze3kIeEInsYKsOegr4WlMKKTpgLOVS2RZe2akBOW7a65NEqDWILMZl6xWsx0aTRgxgsxQ/EX/3SNbBA2d0uE56VHm4DIS7eqkBGCSz2n+UT0wL9jx/bhG3xY2/U/yGC0qiDmm5zsG9Q0yqzKhw7eTEleyvO+X0sQ6PD5wgDvSUBGBBpsRlC7WoGJG7pmCkO6lW4aCWYWn1SSDQO8DsDLypRpEH6V8KnjDpP64mbQ/gvo2fAZJTnruaUudEUJVZNtF4PTthwRDqCyeeyF8PjdEW4EQ4kkZPQTauyPqczeejf39dkr59EnyDd6qmIPUcBKykFuHt5HhWNvoMqskMDbj0N1EAcNVhX6djWCXJ0FsISvp4H1sxWAaVhGc43zMSdcnhum8NeZpT6I4QQdi+Zrykh/mFc1A9oK/7XZHcHzLjDsb7VnbwMtlYntzKAz//ehR40xrWcTLYvs1/2UuvErSXPXDmdICtsSiHr8WnCZtSs7rVuW5PUre+l8C/lEt+wXDB80LQz5CUL7c5cnuWDsI/cH2d3KOj8F589Ob3IVfYAHN+soYY=
